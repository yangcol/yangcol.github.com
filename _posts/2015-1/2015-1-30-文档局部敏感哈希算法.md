---
layout: post
category : 算法
tagline: "海量数据处理读书笔记"
tags : [哈希, 最小哈希, 大数据, LSH, 局部敏感哈希]
---
{% include JB/setup %}

#文档的局部敏感哈希算法

## 最小哈希(min hashing)
最小哈希的目的是为特征生成特征签名。为什么需要特征签名呢？举个例子，对于一篇千字文章，如果我想比较和另一篇文章的相似度，那么用直观的方法进行比较是很困难的。所以，需要对文章进行特征提取，提取的特征集合通常被称作签名，也有指纹的叫法。

先给出最小哈希的计算方法：
考虑集合与特征

元素| S1|S2|S3|S4
-----|---|---|---|---
a|1|0|0|1
b|0|0|1|0
c|0|1|0|1
d|1|0|1|1
e|0|0|1|0

S1有特征{a,d}
S2有特征{c}
S3有特征{b,d,e}
S4有特征{a,c,d}

首先对行进行随机排(洗牌，shuffle)(稍后介绍这么做的意义)。任意一列的最小哈希值是元素Si拥有的第一个特征。

元素| S1|S2|S3|S4
-----|---|---|---|---
b|0|0|<font color="#F00">1</font>|0
e|0|0|1|0
a|<font color="#F00">1</font>|0|0|<font color="#F00">1</font>
c|0|<font color="#F00">1</font>|0|1
d|1|0|1|1

以上是矩阵的一个行排列转换结果
我们有h(S1) = a, h(S2) = c, h(S3) = b, h(S4) = a

那么，如果两个元素，他们的特征相似（拥有若干个相同的特征），那么，他们的最小哈希值***更有可能***相同。

这个“更有可能”的概率是多大呢？
我们以集合S1和S2所对应的列为例，它们每个元素所在的行按照所有可能的结果分成如下三类：
(1)x类
	同一行的两个元素都是1。比如S3,S4的d特征。
(2)y类
	同一行的两个元素不一样（一个为0，一个为1）。